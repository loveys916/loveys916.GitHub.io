<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端的RSA长字段中文加密 | love</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/icons/128.png">
    <link rel="manifest" href="/manifest.json">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="love">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.142a074b.css" as="style"><link rel="preload" href="/assets/js/app.fc175dc9.js" as="script"><link rel="preload" href="/assets/js/3.9be8d15d.js" as="script"><link rel="preload" href="/assets/js/1.bd724abe.js" as="script"><link rel="preload" href="/assets/js/22.2c0f25bb.js" as="script"><link rel="preload" href="/assets/js/11.9bfba90c.js" as="script"><link rel="prefetch" href="/assets/js/10.a20084fe.js"><link rel="prefetch" href="/assets/js/12.1a4e295e.js"><link rel="prefetch" href="/assets/js/13.b67a1efe.js"><link rel="prefetch" href="/assets/js/14.642b1d94.js"><link rel="prefetch" href="/assets/js/15.a4338244.js"><link rel="prefetch" href="/assets/js/16.dfb2ba36.js"><link rel="prefetch" href="/assets/js/17.f146cc13.js"><link rel="prefetch" href="/assets/js/18.2a2d5b77.js"><link rel="prefetch" href="/assets/js/19.6fdcd952.js"><link rel="prefetch" href="/assets/js/20.8165aa77.js"><link rel="prefetch" href="/assets/js/21.b2bf19f7.js"><link rel="prefetch" href="/assets/js/23.3b1087c1.js"><link rel="prefetch" href="/assets/js/24.aa065903.js"><link rel="prefetch" href="/assets/js/25.39bd4977.js"><link rel="prefetch" href="/assets/js/26.e3aa3c4e.js"><link rel="prefetch" href="/assets/js/27.b89c802d.js"><link rel="prefetch" href="/assets/js/28.95352b6c.js"><link rel="prefetch" href="/assets/js/4.8041af10.js"><link rel="prefetch" href="/assets/js/5.d49266e1.js"><link rel="prefetch" href="/assets/js/6.e8ee79ab.js"><link rel="prefetch" href="/assets/js/7.780a59db.js"><link rel="prefetch" href="/assets/js/8.e87f1432.js"><link rel="prefetch" href="/assets/js/9.54910f44.js">
    <link rel="stylesheet" href="/assets/css/0.styles.142a074b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-319dd33c><div data-v-319dd33c><div id="loader-wrapper" class="loading-wrapper" data-v-1c4f0192 data-v-319dd33c data-v-319dd33c><div class="loader-main" data-v-1c4f0192><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-1e2a0cc0 data-v-319dd33c data-v-319dd33c><h3 class="title" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0>love</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><input type="password" value="" data-v-1e2a0cc0> <span data-v-1e2a0cc0>Konck! Knock!</span> <button data-v-1e2a0cc0>OK</button></label> <div class="footer" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><span data-v-1e2a0cc0><i class="iconfont reco-theme" data-v-1e2a0cc0></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-1e2a0cc0>vuePress-theme-reco</a></span> <span data-v-1e2a0cc0><i class="iconfont reco-copyright" data-v-1e2a0cc0></i> <a data-v-1e2a0cc0><span data-v-1e2a0cc0>love</span>
            
          <span data-v-1e2a0cc0>2019 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-319dd33c><header class="navbar" data-v-319dd33c><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="love" class="logo"> <span class="site-name">love</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="https://www.baidu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-date"></i>
  导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link"><i class="iconfont undefined"></i>
  关于
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-319dd33c></div> <aside class="sidebar" data-v-319dd33c><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/logo.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    love
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>13</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>0</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="https://www.baidu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-date"></i>
  导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link"><i class="iconfont undefined"></i>
  关于
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端的RSA长字段中文加密</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2021/1/%E5%89%8D%E7%AB%AF%E7%9A%84RSA%E9%95%BF%E5%AD%97%E6%AE%B5%E4%B8%AD%E6%96%87%E5%8A%A0%E5%AF%86.html#简述rsa算法" class="sidebar-link">简述RSA算法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2021/1/%E5%89%8D%E7%AB%AF%E7%9A%84RSA%E9%95%BF%E5%AD%97%E6%AE%B5%E4%B8%AD%E6%96%87%E5%8A%A0%E5%AF%86.html#前端rsa加密库" class="sidebar-link">前端RSA加密库</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2021/1/%E5%89%8D%E7%AB%AF%E7%9A%84RSA%E9%95%BF%E5%AD%97%E6%AE%B5%E4%B8%AD%E6%96%87%E5%8A%A0%E5%AF%86.html#改造" class="sidebar-link">改造</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2021/1/%E5%89%8D%E7%AB%AF%E7%9A%84RSA%E9%95%BF%E5%AD%97%E6%AE%B5%E4%B8%AD%E6%96%87%E5%8A%A0%E5%AF%86.html#使用-jquery" class="sidebar-link">使用(jQuery)</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-1e2a0cc0 data-v-319dd33c><h3 class="title" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0>前端的RSA长字段中文加密</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><input type="password" value="" data-v-1e2a0cc0> <span data-v-1e2a0cc0>Konck! Knock!</span> <button data-v-1e2a0cc0>OK</button></label> <div class="footer" style="display:none;" data-v-1e2a0cc0 data-v-1e2a0cc0><span data-v-1e2a0cc0><i class="iconfont reco-theme" data-v-1e2a0cc0></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-1e2a0cc0>vuePress-theme-reco</a></span> <span data-v-1e2a0cc0><i class="iconfont reco-copyright" data-v-1e2a0cc0></i> <a data-v-1e2a0cc0><span data-v-1e2a0cc0>love</span>
            
          <span data-v-1e2a0cc0>2019 - </span>
          2021
        </a></span></div></div> <div data-v-319dd33c><main class="page"><div class="page-title" style="display:none;"><h1>前端的RSA长字段中文加密</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>love</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2021-01-01</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="简述rsa算法"><a href="#简述rsa算法" class="header-anchor">#</a> 简述RSA算法</h2> <ul><li>RSA是目前使用最广泛的公钥密码体制之一，公钥可以公开，私钥保密，一般使用公钥加密，使用私钥解密，因为加密和解密使用不同的密码的方式，也被称为非对称加密</li></ul> <h2 id="前端rsa加密库"><a href="#前端rsa加密库" class="header-anchor">#</a> 前端RSA加密库</h2> <ul><li>最常用的是 <a href="https://www.npmjs.com/package/encryptjs" target="_blank" rel="noopener noreferrer">JSEncrypt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，缺点不支持超长字符串加密，并且对中文加密支持度不够</li></ul> <h2 id="改造"><a href="#改造" class="header-anchor">#</a> 改造</h2> <ul><li><ol><li>自行下载jsencrypt.js<a href="http://travistidwell.com/jsencrypt/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></li> <li><ol start="2"><li>直接改动jsencrypt.js文件，在文件最下方的 JSEncrypt.version = “3.0.0-rc.1”;(截止本文写作时间时版本为此版本) 前面，添加下面的代码：</li></ol></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>//任意长度RSA Key分段加密解密长字符串
	
	//获取RSA key 长度
	JSEncrypt.prototype.getkeylength = function () {  
       return ((this.key.n.bitLength()+7)&gt;&gt;3);
    };
	
	// 分段解密，支持中文
	JSEncrypt.prototype.decryptUnicodeLong = function (string) {
		var k = this.getKey();
		//解密长度=key size.hex2b64结果是每字节每两字符，所以直接*2
		var maxLength = ((k.n.bitLength()+7)&gt;&gt;3)*2;
		try {
			var hexString = b64tohex(string);
			var decryptedString = &quot;&quot;;
			var rexStr=&quot;.{1,&quot; + maxLength  + &quot;}&quot;;
			var rex =new RegExp(rexStr, 'g'); 
			var subStrArray = hexString.match(rex);
			if(subStrArray){
				subStrArray.forEach(function (entry) {
					decryptedString += k.decrypt(entry);
				});
				return decryptedString;
			}
		} catch (ex) {
			return false;
		}
	};
		
	// 分段加密，支持中文
	JSEncrypt.prototype.encryptUnicodeLong = function (string) {
		var k = this.getKey();
		//根据key所能编码的最大长度来定分段长度。key size - 11：11字节随机padding使每次加密结果都不同。
		var maxLength = ((k.n.bitLength()+7)&gt;&gt;3)-11;
		try {
			var subStr=&quot;&quot;, encryptedString = &quot;&quot;;
			var subStart = 0, subEnd=0;
			var bitLen=0, tmpPoint=0;
			for(var i = 0, len = string.length; i &lt; len; i++){
				//js 是使用 Unicode 编码的，每个字符所占用的字节数不同
				var charCode = string.charCodeAt(i);
				if(charCode &lt;= 0x007f) {
					bitLen += 1;
				}else if(charCode &lt;= 0x07ff){
					bitLen += 2;
				}else if(charCode &lt;= 0xffff){
					bitLen += 3;
				}else{
					bitLen += 4;
				}
				//字节数到达上限，获取子字符串加密并追加到总字符串后。更新下一个字符串起始位置及字节计算。
				if(bitLen&gt;maxLength){
					subStr=string.substring(subStart,subEnd)
					encryptedString += k.encrypt(subStr);
					subStart=subEnd;
					bitLen=bitLen-tmpPoint;
				}else{
					subEnd=i;
					tmpPoint=bitLen;
				}
			}
			subStr=string.substring(subStart,len)
			encryptedString += k.encrypt(subStr);
			return hex2b64(encryptedString);
		} catch (ex) {
			return false;
		}
	};
	//添加的函数与方法结束
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h2 id="使用-jquery"><a href="#使用-jquery" class="header-anchor">#</a> 使用(jQuery)</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
    &lt;title&gt;支持中文长字符串的RSA前端加解密代码&lt;/title&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;./jsencrypt.js&quot;&gt;&lt;/script&gt; 
&lt;/head&gt;
&lt;body&gt;
    &lt;div&gt;
	&lt;label for=&quot;userdata&quot;&gt;加密内容&lt;/label&gt;
        &lt;br/&gt;
        &lt;textarea id=&quot;userdata&quot; rows=&quot;10&quot; cols=&quot;100&quot;&gt;汉皇重色思倾国，御宇多年求不得。杨家有女初长成，养在深闺人未识。

　　天生丽质难自弃，一朝选在君王侧。回眸一笑百媚生，六宫粉黛无颜色。

　　春寒赐浴华清池，温泉水滑洗凝脂。侍儿扶起娇无力，始是新承恩泽时。

　　云鬓花颜金步摇，芙蓉帐暖度春宵。春宵苦短日高起，从此君王不早朝。

　　承欢侍宴无闲暇，春从春游夜专夜。后宫佳丽三千人，三千宠爱在一身。

　　金屋妆成娇侍夜，玉楼宴罢醉和春。姊妹弟兄皆列土，可怜光彩生门户。

　　遂令天下父母心，不重生男重生女。骊宫高处入青云，仙乐风飘处处闻。

　　缓歌慢舞凝丝竹，尽日君王看不足。渔阳鼙鼓动地来，惊破霓裳羽衣曲。

　　九重城阙烟尘生，千乘万骑西南行。翠华摇摇行复止，西出都门百余里。

　　六军不发无奈何，宛转蛾眉马前死。花钿委地无人收，翠翘金雀玉搔头。

　　君王掩面救不得，回看血泪相和流。黄埃散漫风萧索，云栈萦纡登剑阁。

　　峨嵋山下少人行，旌旗无光日色薄。蜀江水碧蜀山青，圣主朝朝暮暮情。

　　行宫见月伤心色，夜雨闻铃肠断声。天旋地转回龙驭，到此踌躇不能去。

　　马嵬坡下泥土中，不见玉颜空死处。君臣相顾尽沾衣，东望都门信马归。

　　归来池苑皆依旧，太液芙蓉未央柳。芙蓉如面柳如眉，对此如何不泪垂。

　　春风桃李花开日，秋雨梧桐叶落时。西宫南内多秋草，落叶满阶红不扫。(花开日 一作：花开夜；南内 一作：南苑)

　　梨园弟子白发新，椒房阿监青娥老。夕殿萤飞思悄然，孤灯挑尽未成眠。

　　迟迟钟鼓初长夜，耿耿星河欲曙天。鸳鸯瓦冷霜华重，翡翠衾寒谁与共。

　　悠悠生死别经年，魂魄不曾来入梦。临邛道士鸿都客，能以精诚致魂魄。

　　为感君王辗转思，遂教方士殷勤觅。排空驭气奔如电，升天入地求之遍。

　　上穷碧落下黄泉，两处茫茫皆不见。忽闻海上有仙山，山在虚无缥渺间。

　　楼阁玲珑五云起，其中绰约多仙子。中有一人字太真，雪肤花貌参差是。

　　金阙西厢叩玉扃，转教小玉报双成。闻道汉家天子使，九华帐里梦魂惊。

　　揽衣推枕起徘徊，珠箔银屏迤逦开。云鬓半偏新睡觉，花冠不整下堂来。

　　风吹仙袂飘飖举，犹似霓裳羽衣舞。玉容寂寞泪阑干，梨花一枝春带雨。(阑 通：栏)

　　含情凝睇谢君王，一别音容两渺茫。昭阳殿里恩爱绝，蓬莱宫中日月长。

　　回头下望人寰处，不见长安见尘雾。惟将旧物表深情，钿合金钗寄将去。

　　钗留一股合一扇，钗擘黄金合分钿。但教心似金钿坚，天上人间会相见。

　　临别殷勤重寄词，词中有誓两心知。七月七日长生殿，夜半无人私语时。

　　在天愿作比翼鸟，在地愿为连理枝。天长地久有时尽，此恨绵绵无绝期。
		&lt;/textarea&gt;
	&lt;br/&gt;
	&lt;label for=&quot;data&quot;&gt;加密结果&lt;/label&gt;
        &lt;br/&gt;
         &lt;textarea type=&quot;text&quot; id=&quot;data&quot;  rows=&quot;10&quot; cols=&quot;100&quot;&gt;&lt;/textarea&gt;
		         &lt;br/&gt;
		 	&lt;label for=&quot;txt&quot;&gt;解密结果&lt;/label&gt;
        &lt;br/&gt;
		 &lt;textarea type=&quot;text&quot; id=&quot;txt&quot;  rows=&quot;10&quot; cols=&quot;100&quot;&gt;&lt;/textarea&gt;
		 
		 &lt;button id=&quot;testme&quot; &gt;加密与解密&lt;/button&gt;		 
		         &lt;br/&gt;
		 &lt;label for=&quot;privkey&quot;&gt;私钥&lt;/label&gt;
        &lt;br/&gt;
        &lt;textarea id=&quot;privkey&quot; rows=&quot;10&quot; cols=&quot;100&quot;&gt;-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDntgxoZuo4CdVc
BV516Cwqn5lg0siSPnwPKGW3O2NoGwdIzuB5sD3+0d/N5RC0kCgF8UmnMmwzMuAd
0P3A4q0HQhA9wPXfhLX2rilPSbXGRewcoBKhrLhVGIpgTdUkPHPT3Kn6KDNDY9U6
OeH65xz6YDk7dMO4c6jr6f/HWNykbK4kNhk8F1oBrw8mlSMlNnuEYlnAHpFzs8gI
BNbqNdcgaXG24t7Rbi/Uwg1JzXfEy4LJWGY8hDP6Hri1FlgtkyBkI4ekDUlg5Caj
soKhbcCK+Z0WieB4vj4ezIDEXZZlCt1cPcElLqm/Bfx9k3hWoYAuO7EHEHgHzc3Q
3/dIKsz7AgMBAAECggEBANvbONq3C/YwHmo6De8CZSXsWbQtTHK3Jy+avSinCSN2
weqroQLV330x1pGej8NEJTW+RIyIo3HRDCY+bwfeDR+d55swxBtZ6O4vQrMg1YFU
RzzCBeux3xWfO201bM/9LEoSTpY2Hq4Kw/+DfJB9Slmng6aOnEcgN1/hn/iesHyx
dCxeBfvcD6N+u8P3a0GgZ0p3im0QibPhErq7tp9oQh5D2xnFsJqlJz9w+ikDg+Vf
DG/oweccTQ5MF1h67VfypGboZTJZ5Mc+u/IUFxNjVMklNQ57XYEzfOzoEDQ4zO+T
47Wf9klT2tqv4d5Rvfnjfln5FtVHqxzInpZa7a+HZEECgYEA9zYMnrm2ubQkPFSx
+rjRbG2rYEkodVClK7cO7Ugk4leKH1+tpvGnit6M6I6gggK0jHZueo8YR+1x7p98
HTLF9HBrdcgQ6Gq9r3u/XLZ0bCnO+mgyeg8O8XtiuHosdD5WEWSTV5P2qJNkGxS5
UKP5nc7cVZXnnCbqT/ibnQ10ExcCgYEA7/LtsVZmxUHbc0QGd4cfXaAwL7BaoZHF
gHAfgNsDvkBNHqSqpyiSCkhHjBq6bSzRfvDHywHGNhvJhJtOp5X9LBw93aWU712d
tUzWGFnaxAJXAXONMtn8xOFw+Vg3yApx7RfkuSooaMnWp+FgrMV0kkDYMMxtZN4j
xBC+U0UiE70CgYBs/pCb3ufYgrtDOlhqYdg8BTJ9NmQ3LUJVvtU++wMAJHaKlKW8
qGklSjA4TMIp8EVodMMLGFItTFxiSEDxorQyrOpEONxzjLRrTZU2rF8yXVCbiRtQ
Q5lkEPGawosdCWrrKjvobh1ff/SwF/gIvPNOh6kPtxMx/tpqPgNmQEtAKwKBgEqU
hVDDfDn/mEghcqkgNJ2TNqb794+UkYC0WPZiHK27qrzFjc1bDNlpUeO4Qw3ACnWc
PV1Z9dPHm0E+TJpGQmS9enU0DDDCNkytzzXOZ/LYj1aCJfcSTkCbmdPGmb/xjyuU
a6Ep+1lmsvOHV9cboHn88bVpNO9PJGrCkYWsTUU5AoGAE2S2Zf5RlRICDd7H5/6y
bMzQUREnLIopUx1yNZSuLAOvsXq/wO1Utj/NTtZdJ0CRDhvUXipL7XK5p+sVVswV
BIXHeMYCML7XZXjPICE1EcMR57IxukbEpd+7p5i/deNshgYIHMSpYeRE6TdqXeT4
Ae3ypZCI0GPOGiMoLTJlySo=
-----END PRIVATE KEY-----&lt;/textarea&gt;
        &lt;br/&gt;
        &lt;label for=&quot;pubkey&quot;&gt;公钥&lt;/label&gt;
        &lt;br/&gt;
        &lt;textarea id=&quot;pubkey&quot; rows=&quot;10&quot; cols=&quot;100&quot;&gt;-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA57YMaGbqOAnVXAVedegs
Kp+ZYNLIkj58DyhltztjaBsHSM7gebA9/tHfzeUQtJAoBfFJpzJsMzLgHdD9wOKt
B0IQPcD134S19q4pT0m1xkXsHKASoay4VRiKYE3VJDxz09yp+igzQ2PVOjnh+ucc
+mA5O3TDuHOo6+n/x1jcpGyuJDYZPBdaAa8PJpUjJTZ7hGJZwB6Rc7PICATW6jXX
IGlxtuLe0W4v1MINSc13xMuCyVhmPIQz+h64tRZYLZMgZCOHpA1JYOQmo7KCoW3A
ivmdFongeL4+HsyAxF2WZQrdXD3BJS6pvwX8fZN4VqGALjuxBxB4B83N0N/3SCrM
+wIDAQAB
-----END PUBLIC KEY-----&lt;/textarea&gt;
        &lt;br/&gt;
		 
		 
    &lt;/div&gt;
  
    &lt;script type=&quot;text/javascript&quot;&gt;
        $(function() {
        $('#testme').click(function() {
            var encrypt = new JSEncrypt();
            encrypt.setKey($('#pubkey').val());
			console.log(encrypt.getkeylength());
            var data = encrypt.encryptUnicodeLong($('#userdata').val());
            $('#data').val(data);
			
			var decrypt = new JSEncrypt();
            decrypt.setKey($('#privkey').val());
			var txt = decrypt.decryptUnicodeLong(data);
			$('#txt').val(txt);
			
			});
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">更新于: </span> <span class="time">1/18/2021, 9:26:39 AM</span></div></footer> <!----></main> <!----> <div style="display:none;" data-v-319dd33c data-v-319dd33c><div class="comments-wrapper" data-v-319dd33c><!----></div></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 love
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><!----></div></div>
    <script src="/assets/js/app.fc175dc9.js" defer></script><script src="/assets/js/3.9be8d15d.js" defer></script><script src="/assets/js/1.bd724abe.js" defer></script><script src="/assets/js/22.2c0f25bb.js" defer></script><script src="/assets/js/11.9bfba90c.js" defer></script>
  </body>
</html>
